"use strict";(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[53],{9053:function(e,a,s){s.r(a),s.d(a,{default:function(){return w}});var t=s(7762),n=s(1413),r=s(885),l=s(2791),i=s(9743),m=s(2677),o=s(8322),c=s(3053),d=s(3360),p=s(9140),h=s(7858),x=s(4849),u=s(2469),g=s(4819),Z=s.n(g),j=s(7985),f=s(7689),b=s(184);function w(){var e=(0,l.useState)({first_name:"",last_name:"a",email:"",phone:"",password:"",repeat_password:"",age:20}),a=(0,r.Z)(e,2),s=a[0],g=a[1],w=(0,l.useState)([]),N=(0,r.Z)(w,2),y=N[0],v=N[1],C=(0,l.useState)(!1),P=(0,r.Z)(C,2),_=P[0],S=P[1],k=(0,l.useState)(null),E=(0,r.Z)(k,2),R=E[0],T=E[1],q=(0,l.useState)(""),z=(0,r.Z)(q,2),F=z[0],D=z[1],$=(0,l.useState)(""),A=(0,r.Z)($,2),B=A[0],H=A[1],V=(0,l.useState)(""),G=(0,r.Z)(V,2),I=G[0],J=G[1],K=(0,l.useState)(""),L=(0,r.Z)(K,2),M=L[0],O=L[1],Q=(0,l.useState)(""),U=(0,r.Z)(Q,2),W=U[0],X=U[1],Y=(0,l.useContext)(j.V),ee=Y.signup,ae=Y.signupResponse,se=(0,f.s0)(),te=(0,l.useState)(""),ne=(0,r.Z)(te,2),re=ne[0],le=ne[1],ie=function(e){var a=(0,n.Z)({},s);a[e.target.name]=e.target.value,g(a)};return(0,l.useEffect)((function(){if(y.length>0){var e,a=(0,t.Z)(y);try{for(a.s();!(e=a.n()).done;){var s=e.value;"first_name"===s.context.key?s.type.includes("pattern")?D("Name must at least 2 Characters of letters only"):D(s.message.replace('"first_name"',"Name")):"email"===s.context.key?s.type.includes("pattern")?H("Please Enter a valid Email"):H(s.message.replace('"email"',"Email")):"phone"===s.context.key?s.type.includes("pattern")?J("Please Enter a valid Phone Number"):J(s.message.replace('"phone"',"Phone")):"password"===s.context.key?O(s.message.replace('"password"',"Password")):"repeat_password"===s.context.key&&X("Password and Re-Password Fields must be matched")}}catch(n){a.e(n)}finally{a.f()}}}),[y]),(0,l.useEffect)((function(){S(!1),ae&&null!==R&&("success"===ae.message?se("/login"):le(ae.message),T(!1))}),[ae,R,se]),(0,b.jsx)(i.Z,{className:"justify-content-center mt-4 pt-4",children:(0,b.jsx)(m.Z,{xs:"12",md:"8",children:(0,b.jsxs)(p.Z,{className:"bg-transparent border-0",children:[(0,b.jsx)(p.Z.Header,{className:"bg-transparent border-0 text-white",children:(0,b.jsx)(p.Z.Title,{children:"Registeration Form"})}),(0,b.jsx)(p.Z.Body,{children:(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),le(""),S(!0);var a=(v(""),D(""),H(""),J(""),O(""),X(""),Z().object({first_name:Z().string().required().pattern(/^[a-zA-Z ]{2,}$/),last_name:Z().string(),email:Z().string().required().email({minDomainSegments:2,tlds:{allow:["com","net"]}}),phone:Z().string().required().pattern(/^01[0125][0-9]{8}$/),password:Z().string().required().min(3).max(30),repeat_password:Z().ref("password"),age:Z().number()}).validate(s,{abortEarly:!1}).error);a?(v(a.details),S(!1)):(T(!0),ee(s))},children:[null!==R&&re&&(0,b.jsx)(u.Z,{variant:"danger",className:"text-center text-capitalize",children:re}),(0,b.jsx)(c.Z,{label:"Name",className:"mb-1",children:(0,b.jsx)(o.Z.Control,{type:"text",name:"first_name",placeholder:"Name",onChange:ie})}),(0,b.jsx)(h.Z,{in:F.length>0,children:(0,b.jsx)(o.Z.Text,{className:"text-danger",children:F})}),(0,b.jsx)(c.Z,{label:"Email",className:"mt-3 mb-1",children:(0,b.jsx)(o.Z.Control,{type:"email",name:"email",placeholder:"Email",onChange:ie})}),(0,b.jsx)(h.Z,{in:B.length>0,children:(0,b.jsx)(o.Z.Text,{className:"text-danger",children:B})}),(0,b.jsx)(c.Z,{label:"Phone Number",className:"mt-3 mb-1",children:(0,b.jsx)(o.Z.Control,{type:"tel",name:"phone",placeholder:"Phone Number",onChange:ie})}),(0,b.jsx)(h.Z,{in:I.length>0,children:(0,b.jsx)(o.Z.Text,{className:"text-danger",children:I})}),(0,b.jsx)(c.Z,{label:"Password",className:"mt-3 mb-1",children:(0,b.jsx)(o.Z.Control,{type:"password",name:"password",placeholder:"Password",onChange:ie})}),(0,b.jsx)(h.Z,{in:M.length>0,children:(0,b.jsx)(o.Z.Text,{className:"text-danger",children:M})}),(0,b.jsx)(c.Z,{label:"Re-Password",className:"mt-3 mb-1",children:(0,b.jsx)(o.Z.Control,{type:"password",name:"repeat_password",placeholder:"Re-Password",onChange:ie})}),(0,b.jsx)(h.Z,{in:W.length>0,children:(0,b.jsx)(o.Z.Text,{className:"text-danger",children:W})}),(0,b.jsx)(d.Z,{className:"float-end my-4 form-btn",type:"submit",children:_?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{animation:"grow",size:"sm",className:"mx-1"}),(0,b.jsx)(x.Z,{animation:"grow",size:"sm",className:"me-1"})]}):"Register"})]})})]})})})}}}]);
//# sourceMappingURL=53.7a3ce39f.chunk.js.map